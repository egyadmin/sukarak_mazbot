# ๐ ุงูููุงุตูุงุช ุงูุชูููุฉ ูููุธุงู ูุงูุฑุจุท ุงูุดุจูู (Backend & System Specs)

ูุฐุง ุงูููู ูุญุชูู ุนูู ูุงูุฉ ุงูุชูุงุตูู ุงูุชูููุฉ ุงูุฎุงุตุฉ ุจุงูุชุนุงูู ูุน ุงูุณูุฑูุฑุ ููุงุนุฏ ุงูุจูุงูุงุช ุงููุญููุฉุ ูุงูุซูุงุจุช ุงูุชุตููููุฉ ูููุดุฑูุน.

---

## 1. ุฑูุงุจุท ุงูู API ูุงูุนูููุงุช ุงููุฏุนููุฉ (Backend Endpoints)
ุฌููุน ุงูุนูููุงุช ุชุชู ุนุจุฑ ุงูุฑุงุจุท ุงูุฃุณุงุณู: `https://sukarakmazbout.com/api/v2/`

### ุฃ. ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ (Core API)
- **`getBasicData.php`**: ุฌูุจ ุงูุจูุฑุงุช ุงูุฅุนูุงููุฉุ ูุงุฆูุฉ ุงูุฏููุ ูุญุงูุฉ ุชูุนูู ุงูุฎุฏูุงุช.
- **`checkVersion.php`**: ุงูุชุฃูุฏ ูู ุฑูู ุฅุตุฏุงุฑ ุงูุชุทุจูู ูุฅุฌุจุงุฑ ุงููุณุชุฎุฏู ุนูู ุงูุชุญุฏูุซ ูู ุญุงู ูุฌูุฏ ูุณุฎุฉ ูุฏููุฉ.
- **`update_token.php`**: ูุฅุฑุณุงู ูุชุญุฏูุซ `FCM Token` ุงูุฎุงุต ุจุงูุฅุดุนุงุฑุงุช ูุฑุจุทู ุจุญุณุงุจ ุงููุณุชุฎุฏู.
- **`refresh_token.php`**: ุชุฌุฏูุฏ ุงูู `Access Token` ุงูููุชูู ุจุงุณุชุฎุฏุงู ุงูู `Refresh Token` ุงููุญููุธ ุฃูููุงู.

### ุจ. ุฅุฏุงุฑุฉ ุงูุญุณุงุจ ูุงููุณุชุฎุฏู (User Management)
- **`login.php`**: ุชุณุฌูู ุงูุฏุฎูู ุจุฑูู ุงููุงุชู ููููุฉ ุงููุฑูุฑ.
- **`register.php`**: ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ.
- **`updatedata.php`**: ุชุญุฏูุซ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ (ุงูุงุณูุ ุงูุณูุ ุงููุฒูุ ุงูุทูู).
- **`forgot_password.php`**: ุทูุจ ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ ุนุจุฑ ุงูุจุฑูุฏ ุฃู ุงููุงุชู.

### ุฌ. ุงูุฎุฏูุงุช ูุงูุงุดุชุฑุงูุงุช (Services & Orders)
- **`get_services.php`**: ุฌูุจ ูุงุฆูุฉ ุงูุฎุฏูุงุช ุงูุทุจูุฉ ุงููุชุงุญุฉ.
- **`get_market_products.php`**: ุฌูุจ ูุงุฆูุฉ ุงูููุชุฌุงุช ุงููุชููุฑุฉ ูู ุงููุชุฌุฑ.
- **`create_order.php`**: ุฅุฑุณุงู ุทูุจ ุดุฑุงุก ุฌุฏูุฏ ูููุชุฌ ุฃู ุฎุฏูุฉ.
- **`get_orders.php`**: ุฌูุจ ูุงุฆูุฉ ุงูุทูุจุงุช ุงูุณุงุจูุฉ ูุงูููุงุชูุฑ.
- **`request_return.php`**: ุชูุฏูู ุทูุจ ูุฅุฑุฌุงุน ููุชุฌ ูุดุชุฑู.
- **`get_subscriptions.php`**: ุฌูุจ ุญุงูุฉ ุงุดุชุฑุงูุงุช ุงููุณุชุฎุฏู ุงููุดุทุฉ.

### ุฏ. ุงูุจูุงูุงุช ุงูุตุญูุฉ (Health Data)
- **`sync_readings.php`**: ูุฒุงููุฉ ูุฑุงุกุงุช ุงูุณูุฑ ูุงููุฒู ุจูู ุงูุชุทุจูู ูุงูุณูุฑูุฑ.
- **`get_medical_profile.php`**: ุฌูุจ ุจูุงูุงุช ุงูููู ุงูุทุจู ุงูุดุงูู ุงููุญููุธุฉ ูุณุจูุงู.

---

## 2. ููุงุนุฏ ุงูุจูุงูุงุช (Data Models & Layout)

### ุฃ. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ (Local SQLite - profile.db)
ูุนุชูุฏ ุงูุชุทุจูู ุนูู `sqflite` ูุญูุธ ุงูุจูุงูุงุช ุงูุญูููุฉ ูููุณุชุฎุฏู ุญุชู ูู ุญุงู ุงููุทุงุน ุงูุฅูุชุฑูุช:

| ุงูุฌุฏูู | ุงูุญููู ุงูุฑุฆูุณูุฉ |
| :--- | :--- |
| **`profile`** | ุงูุฃุณุฆูุฉ ุงูุทุจูุฉ (diabetes_type, family_history, smoker, medications, etc). |
| **`drugs`** | ุงูุฃุฏููุฉ ุงููุถุงูุฉ (name, form, frequency, serving, concentration). |
| **`alarms`** | ูุธุงู ุงูุชูุจููุงุช (hour, minute, label, frequency, isActive). |
| **`insulinRecordings`** | ูุฑุงุกุงุช ุงูุณูุฑ (reading, period, timestamp, testType). |
| **`excerciseRecordings`** | ุงููุดุงุท ุงูุฑูุงุถู (reading, type, timestamp). |
| **`mealRecordings`** | ุงููุฌุจุงุช (type, contents, calories, timestamp). |

### ุจ. ููุงุฐุฌ ุงูุจูุงูุงุช (Data Models - JSON)
ูุชู ุชุญููู ุงูุฑุฏูุฏ ูู ุงูุณูุฑูุฑ ุฅูู ุงููุงุฆูุงุช ุงูุชุงููุฉ:
- `SukarakUser`: ุงููุงุฆู ุงูุฃุณุงุณู ุงูุฐู ูุญูู ุจูุงูุงุช ุงูุฌูุณุฉ ุงููุดุทุฉ.
- `ProductModel`: ุชูุงุตูู ุงูููุชุฌ (id, name, price, currency, image).
- `OrderModel`: ุชูุงุตูู ุงูุทูุจ (id, status, total, date).
- `ServiceCenter`: ุจูุงูุงุช ุงููุฑูุน ุงูุทุจูุฉ (name, address, lat, lng).

---

## 3. ุงูุซูุงุจุช ุงูุชุตููููุฉ ูุฃููุงุฏ ุงูุฃููุงู (System Constants & Branding)

### ุฃ. ุงููููุฉ ุงูุจุตุฑูุฉ (Color Palette)
- **Primary Colors (ุงูุฃููุงู ุงูุฃุณุงุณูุฉ):**
  - ูุญูู ุบุงูู (Primary 1): `#3e516b`
  - ูุฑุฏู ููุดูุง (Primary 2): `#c13e7f`
  - ูุฑุฏู ูุงุชุญ (Primary 3): `#f3419d`
  - ููุฑูุฒู (Primary 4): `#29b0cf`
  - ุฃุฎุถุฑ ุชูุงุญู (Primary 5): `#23ccbb`
- **Secondary Colors (ุงูุฃููุงู ุงูุซุงูููุฉ):**
  - ุฃุฎุถุฑ ุฏุงูู (Secondary 1): `#166f50`
  - ุจุฑุชูุงูู (Secondary 2): `#e08824`
  - ุฃุตูุฑ (Secondary 3): `#f4f73e`
  - ุจุฑุชูุงูู ูุญุฑูู (Secondary 4): `#ff5226`
- **Backgrounds (ุงูุฎูููุงุช):**
  - ุงูุฎูููุฉ ุงูุนุงูุฉ: `#f5fffc`
  - ุงูุฎูููุฉ ุงูุซุงูููุฉ: `#e2f6f7`

### ุจ. ุงูุซูุงุจุช ุงูุนุงูุฉ (Global Constants)
- **ุงุณู ุงูุชุทุจูู:** "ุณูุฑู ูุถุจูุท"
- **ูุนุฑู ุงูุชุทุจูู:** `sukarak_mazbot`
- **ููุงุชูุญ ุงูุฏูุน (XPay Keys):**
  - Key: `5FKuazKs.4pYS0s3Vep6rtPs896v16emdAyc9nwyK`
  - ID: `JBeLZ25`

---

## 4. ูุธุงู ุงูุชุดููุฑ ูุงูุฃูุงู (Security Architecture)
- ูุชู ุงุณุชุฎุฏุงู `Interceptors` ูู ููุชุจุฉ `Dio` ูุชูุฑูุฑ ุงูู `Authorization: Bearer <token>` ูู ูู ุทูุจ.
- ูุชู ุชุฎุฒูู ุงูู `RefreshToken` ูู ุงูู `SecureStorage` ุงูุฎุงุต ุจูุธุงู ุงูุชุดุบูู ูุถูุงู ุนุฏู ูุตูู ุงูุชุทุจููุงุช ุงูุฃุฎุฑู ุฅููู.
