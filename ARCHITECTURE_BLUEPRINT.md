# ๐ ุงูุชูุฑูุฑ ุงูููู ุงูุดุงูู ููุดุฑูุน "ุณูุฑู ูุถุจูุท" (Architecture Blueprint)

## 1. ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู (System Overview)
*   **ุงุณู ุงูุชุทุจูู:** ุณูุฑู ูุถุจูุท.
*   **ุงูุฌูููุฑ ุงููุณุชูุฏู:** ูุฑุถู ุงูุณูุฑู (ุฅุฏุงุฑุฉ ุงูููุท ุงูุตุญูุ ุงูููุชุฌุงุชุ ุงูุฎุฏูุงุช ุงูุทุจูุฉ).
*   **ุชูููุฉ ุงูุจูุงุก:** Flutter (Dart).
*   **ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุณูุฑูุฑ:** PHP/MySQL (API Custom).
*   **ุฎุฏูุงุช ุงูุทุฑู ุงูุซุงูุซ:** Firebase (Cloud Messaging, Crashlytics, Core).

---

## 2. ูููููุฉ ูููุงุช ุงููุดุฑูุน (Folder Structure)
ุงูุชุทุจูู ูุชุจุน ููุท **MVVM** (Model-View-ViewModel) ุจุดูู ูุจุณุท:
- `lib/screens`: ูุญุชูู ุนูู ูุงูุฉ ุงูุดุงุดุงุช (27 ููุฏููู ูุฎุชูู).
- `lib/networking`: ุฅุฏุงุฑุฉ ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ (Dio Client).
- `lib/data`: ููุงูุจ ุงูุจูุงูุงุช (Models) ูุซู ุงููุณุชุฎุฏู ูุงููููุน.
- `lib/components`: ุงูุนูุงุตุฑ ุงููุดุชุฑูุฉ (Custom Widgets).
- `lib/utilities`: ุฃุฏูุงุช ูุณุงุนุฏุฉ (ุชุญุฏูุฏ ุงููููุนุ ุงูุฅุดุนุงุฑุงุช).

---

## 3. ูุฎุทุท ุงูุดุงุดุงุช ูุฑุญูุฉ ุงููุณุชุฎุฏู (Screen Flow Map)

### ุฃ. ูุฑุญูุฉ ุงูุงูุทูุงู (Startup Phase)
1.  **SplashView:** ุดุงุดุฉ ุงูุจุฏุงูุฉ ููุชุฃูุฏ ูู ุงูุฅุตุฏุงุฑ ูุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู.
2.  **LoginView:** ุชุณุฌูู ุงูุฏุฎูู ุจุฑูู ุงููุงุชู.

### ุจ. ุงููููู ุงูุฑุฆูุณู (Main Layout - BottomNavBar)
ูุชููู ุงูุชุทุจูู ูู 4 ุชุจููุจุงุช ุฑุฆูุณูุฉ:
1.  **ุงูุฑุฆูุณูุฉ (HomeView):** ุชุญุชูู ุนูู:
    *   ุณูุงูุฏุฑ ุฅุนูุงูู (Banners).
    *   ูุธุงู ุชุญุฏูุฏ ุงููููุน (Auto Location).
    *   ุดุจูุฉ ุงูุฃูุณุงู (Sections Grid) - 6 ุฃููููุงุช ุฑุฆูุณูุฉ.
    *   ูุงุฆูุฉ ุงูุฎุฏูุงุช ุงูุทุจูุฉ (Horizontal List).
2.  **ุงูุณุฌู (ReportsView):** ูุชุงุจุนุฉ ุงููุฑุงุกุงุช ูุงูุชูุงุฑูุฑ ุงูุณุงุจูุฉ.
3.  **ุงูููุงุนูุฏ (AppointmentsView):** ุฅุฏุงุฑุฉ ูุญุฌุฒ ุงูููุงุนูุฏ ุงูุทุจูุฉ.
4.  **ุงูููู ุงูุดุฎุตู (ProfileWrapperView):** ุงูุฅุนุฏุงุฏุงุชุ ุงูุทูุจุงุชุ ูุณูุงุณุงุช ุงูุชุทุจูู.

---

## 4. ุชุญููู ุงูุฃูุณุงู ูุงูุฎุฏูุงุช (Internal Modules)
ูุญุชูู ุงูุชุทุจูู ุนูู ููุทู ุฏุงุฎูู ููุณู ูุงูุชุงูู:

| ุงููุณู | ุงููุธููุฉ | ุงูุดุงุดุฉ ุงููุฑุชุจุทุฉ |
| :--- | :--- | :--- |
| **ุชุชุจุน ุงูุตุญุฉ** | ุฅุฏุฎุงู ูุฑุงุกุงุช ุงูุณูุฑุ ุงูุฃุฏููุฉุ ุงูุฃูุณูููู | `HealthTrackingView` |
| **ุงููุณุงุนุฏ ุงูุดุฎุตู** | ุฏุฑุฏุดุฉ ุฃู ุฏุนู ููู ูุจุงุดุฑ | `AssistantView` |
| **ุงูุฃุทุนูุฉ** | ูุงุนุฏุฉ ุจูุงูุงุช ุงููุฌุจุงุช ูุงูุณุนุฑุงุช | `FoodHome` |
| **ุงูุฑูุงุถุฉ** | ุชูุงุฑูู ูุจุฑุงูุฌ ุฑูุงุถูุฉ ูููุฑุถู | `SportHome` |
| **ููุจู ุงูุฏูุงุก** | ูุธุงู ุชูุจููุงุช ูุญูู ููุฃุฏููุฉ | `AlarmView` |
| **ุจุทุงูุงุช ุงูุนุถููุฉ** | ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช ูุงูุฎุตููุงุช | `CardsView` |
| **ุงููุชุฌุฑ** | ุดุฑุงุก ููุชุฌุงุช ุงูุนูุงูุฉ ุจุงูุณูุฑู | `MarketHomeView` |

---

## 5. ุฑูุงุจุท ุงูู API ูุงูุฑุจุท ูุน ุงูุณูุฑูุฑ (API Endpoints)
*   **ุงูุฑุงุจุท ุงูุฃุณุงุณู (Base URL):** `https://sukarakmazbout.com/api/v2/`
*   **ุฃูู ุงูุฑูุงุจุท ุงูุจุฑูุฌูุฉ:**
    1.  `getBasicData.php`: ูุฌูุจ ุงูุจูุฑุงุช ูุญุงูุฉ ุงูุฎุฏูุงุช (GET).
    2.  `updatedata.php`: ูุชุญุฏูุซ ุจูุงูุงุช ุงูููู ุงูุดุฎุตู (POST).
    3.  `update_token.php`: ูุฑุจุท ุฌูุงุฒ ุงููุณุชุฎุฏู ุจุงูุฅุดุนุงุฑุงุช (POST).
    4.  `refresh_token.php`: ูุชุฌุฏูุฏ ุตูุงุญูุฉ ุงูุฏุฎูู (Authentication).
    5.  `checkVersion.php`: ููุชุฃูุฏ ูู ุชุญุฏูุซ ุงูุชุทุจูู.

---

## 6. ุงูููุงุตูุงุช ุงูุชุตููููุฉ (Design Standards)
*   **ุงูุฃููุงู ุงูุฑุฆูุณูุฉ:**
    *   ุงูููู ุงูุฃุณุงุณู 1: `#3e516b` (ุฃุฒุฑู ุบุงูู) - ููุฃุฒุฑุงุฑ ูุงูุนูุงููู.
    *   ุงูููู ุงูุฃุณุงุณู 2: `#166f50` (ุฃุฎุถุฑ ุบุงูู) - ููุชุฃููุฏ ูุงููุฌุงุญ.
    *   ุงูุฎูููุฉ: `#f5fffc` (ุฃูู ูุงูุช ูุฑูุญ ููุนูู).
*   **ุงูุฎุทูุท (Typography):**
    *   ุงูุฎุท ุงูุฃุณุงุณู: **Zain** (ูููุตูุต ุงูุนุงูุฉ).
    *   ุงูุฎุท ุงูุซุงููู: **Cairo** (ููุนูุงููู ูุงููุงุฌูุงุช ุงูุฌูุงููุฉ).
*   **ุงููุบุฉ:** ูุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ุจุดูู ูุงูู (RTL Support).

---

## 7. ุงููุฎุทุท ุงูููุฏุณู ููุจูุงูุงุช (Engineering Architecture)

### ุฃ. ุชุฏูู ุงูุจูุงูุงุช (Data Flow)
1.  **ุทุจูุฉ ุงูุนุฑุถ (UI Layer):** ุดุงุดุงุช Flutter (Widgets) ุชุณุชูุน ูููุชุบูุฑุงุช ุฏุงุฎู ุงูู `Notifiers`.
2.  **ุทุจูุฉ ุงูููุทู (ViewModel/Logic):** ุชุณุชุฎุฏู ูููุจุจุฉ `Provider` ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุจุฑูุฌูุฉ ูุชูุจูู ุงูุดุงุดุงุช ุนูุฏ ุญุฏูุซ ุชุบููุฑ.
3.  **ุทุจูุฉ ุงูุดุจูุฉ (Networking):** ุชุณุชุฎุฏู ูููุจุจุฉ `Dio` ูุน `Interceptors` ููุชุนุงูู ูุน ุงูู Token (Access & Refresh) ุชููุงุฆูุงู.
4.  **ุทุจูุฉ ุงูุชุฎุฒูู (Persistent Layer):**
    *   `SharedPreferences`: ูุชุฎุฒูู ุจูุงูุงุช ุงููุณุชุฎุฏู ุงููุณุฌูุฉ ุงููุจุงุดุฑุฉ.
    *   `SecureStorage`: ูุชุฎุฒูู ุงูู Refresh Token ุจุดูู ูุดูุฑ ูุฃููู.

### ุจ. ุงููููู ุงูุชูุธููู ููุฎุฏูุงุช (Service Graph)
- **Authentication Service:** ูุณุคููุฉ ุนู ุงูุฏุฎููุ ุงูุฎุฑูุฌุ ูุชุญุฏูุซ ุงูุชููู ุจุงูุชุนุงูู ูุน `ApiClient`.
- **Location Service:** ุชุนุชูุฏ ุนูู `Geolocator` ูุชุญุฏูุฏ ุฅุญุฏุงุซูุงุช ุงููุณุชุฎุฏู ูุฑุจุทูุง ุจุจูุงูุงุช ุงูู API (ูุซู ุชุญุฏูุฏ ุฃูุฑุจ ูุฑูุฒ ุทุจู).
- **Notification Service:** ุชุฌูุน ุจูู `Firebase Cloud Messaging` (ูุฅุดุนุงุฑุงุช ุงูุณูุฑูุฑ) ู `Awesome Notifications` (ููุชุฐููุฑุงุช ุงููุญููุฉ ุจุงูุฃุฏููุฉ).

---

## 8. ูุงุฆูุฉ ุงูููุชุจุงุช ุงูุดุงููุฉ (Tech Stack / Dependencies)

### ุฃ. ููุงุฉ ุงููุธุงู (Core)
- `provider`: ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุงูุฉ (State Management) ุงููุนุชูุฏ ูู ุงููุดุฑูุน.
- `dio` & `http`: ููุชุนุงูู ูุน ุทูุจุงุช ุงูู API ุจุณุฑุนุฉ ูุชูููุงุช ุนุงููุฉ.
- `intl`: ูุฏุนู ุงููุบุงุช ูุงูุฃุฑูุงู ูุงูุชูุณููุงุช ุงูุฒูููุฉ.

### ุจ. ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI / Aesthetic)
- `sizer`: ูุฌุนู ูุงูุฉ ููุงุณุงุช ุงูุฎุทูุท ูุงูุญุงููุงุช ูุชุฌุงูุจุฉ ูุน ูู ุงูุดุงุดุงุช.
- `google_fonts`: ูุงุณุชุฎุฏุงู ุฎุทูุท ุงุญุชุฑุงููุฉ (Zain, Cairo).
- `cached_network_image`: ูุนุฑุถ ุงูุตูุฑ ูุน ุฎุงุตูุฉ ุงูู Cache.
- `fl_chart`: ููุญุฑูุงุช ุงูุฑุณู ุงูุจูุงูู.
- `carousel_slider`: ููุจูุฑุงุช ุงููุชุญุฑูุฉ.
- `persistent_bottom_nav_bar`: ูุดุฑูุท ุงูุชููู ุงูุณููู.

### ุฌ. ุฎุฏูุงุช ุงูุฌูุงุฒ (System Hardware)
- `geolocator` & `geocoding`: ูุชุญุฏูุฏ ุงููููุน ุงูุฌุบุฑุงูู.
- `image_picker` & `file_picker`: ูุงุฎุชูุงุฑ ุงููููุงุช ูุงูุตูุฑ.
- `audioplayers`: ูุชุดุบูู ุงูุชูุจููุงุช ุงูุตูุชูุฉ.
- `record`: ูุชุณุฌูู ุงูููุงุญุธุงุช ุงูุตูุชูุฉ.

### ุฏ. ุงูุชูุงูู ูุงูุงุชุตุงู (Cloud & Integration)
- `firebase_core`, `messaging`, `auth`: ุฎุฏูุงุช ุฌูุฌู ุงูุณุญุงุจูุฉ.
- `flutter_secure_storage`: ูุชุฎุฒูู ุงูุชููู ุจุดูู ุฃููู.
- `url_launcher`: ููุชุญ ุงูุฑูุงุจุท ุงูุฎุงุฑุฌูุฉ ูุงููุงุชุณุงุจ.
- `excel`: ูุชูููุฏ ุชูุงุฑูุฑ Excel.

---

## 9. ุชูุงุตูู ุงูุจูุงุก (Build Configuration)
- **Android:**
  - Minimum SDK: 23
  - Core Library Desugaring: Enabled.
- **iOS:**
  - Deployment Target: 12.0
- **Assets Hierarchy:**
  - `assets/images/`: ุงูุตูุฑ ูุงูููุฌู.
  - `assets/icons/`: ุงูุฃููููุงุช.
  - `assets/fonts/`: ุงูุฎุทูุท.
